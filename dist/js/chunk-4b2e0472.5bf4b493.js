(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b2e0472"],{"38d5":function(t,e,n){"use strict";n("68ef")},"772a":function(t,e,n){"use strict";var i=n("d282"),a=n("db85"),s=Object(i["a"])("form"),r=s[0],o=s[1];e["a"]=r({props:{colon:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,submitOnEnter:{type:Boolean,default:!0},validateTrigger:{type:String,default:"onBlur"},showError:{type:Boolean,default:!0},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{validateSeq:function(){var t=this;return new Promise((function(e,n){var i=[];t.fields.reduce((function(t,e){return t.then((function(){if(!i.length)return e.validate().then((function(t){t&&i.push(t)}))}))}),Promise.resolve()).then((function(){i.length?n(i):e()}))}))},validateAll:function(){var t=this;return new Promise((function(e,n){Promise.all(t.fields.map((function(t){return t.validate()}))).then((function(t){t=t.filter((function(t){return t})),t.length?n(t):e()}))}))},validate:function(t){return t?this.validateField(t):this.validateFirst?this.validateSeq():this.validateAll()},validateField:function(t){var e=this.fields.filter((function(e){return e.name===t}));return e.length?new Promise((function(t,n){e[0].validate().then((function(e){e?n(e):t()}))})):Promise.reject()},resetValidation:function(t){this.fields.forEach((function(e){t&&e.name!==t||e.resetValidation()}))},scrollToField:function(t,e){this.fields.some((function(n){return n.name===t&&(n.$el.scrollIntoView(e),!0)}))},addField:function(t){this.fields.push(t),Object(a["a"])(this.fields,this)},removeField:function(t){this.fields=this.fields.filter((function(e){return e!==t}))},getValues:function(){return this.fields.reduce((function(t,e){return t[e.name]=e.formValue,t}),{})},onSubmit:function(t){t.preventDefault(),this.submit()},submit:function(){var t=this,e=this.getValues();this.validate().then((function(){t.$emit("submit",e)})).catch((function(n){t.$emit("failed",{values:e,errors:n}),t.scrollToError&&t.scrollToField(n[0].name)}))}},render:function(){var t=arguments[0];return t("form",{class:o(),on:{submit:this.onSubmit}},[this.slots()])}})},b6f4:function(t,e,n){"use strict";n("e469")},db85:function(t,e,n){"use strict";function i(t){var e=[];function n(t){t.forEach((function(t){e.push(t),t.componentInstance&&n(t.componentInstance.$children.map((function(t){return t.$vnode}))),t.children&&n(t.children)}))}return n(t),e}function a(t,e){var n=e.$vnode.componentOptions;if(n&&n.children){var a=i(n.children);t.sort((function(t,e){return a.indexOf(t.$vnode)-a.indexOf(e.$vnode)}))}}n.d(e,"a",(function(){return a}))},e17b:function(t,e,n){"use strict";n.r(e);var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{"left-arrow":"",border:!1},on:{"click-left":t.onClickLeft}}),n("div",{staticClass:"login"},[n("div",{staticClass:"login_info"},[n("div",{staticClass:"login-title"},[t._v("Register Account")]),n("van-form",{on:{submit:t.register}},[n("div",{staticClass:"inp"},[n("van-field",{attrs:{name:"Email",placeholder:"enter your email."},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("div",{staticClass:"inp"},[n("van-field",{attrs:{type:"password",name:"password",placeholder:"Enter password."},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("div",{staticClass:"inp"},[n("van-field",{attrs:{type:"password",name:"password1",placeholder:"Enter password again."},model:{value:t.password1,callback:function(e){t.password1=e},expression:"password1"}}),n("p",[t._v("1.The password must consist of numbers and letters.")]),n("p",[t._v("2.Password length must be 6-16 characters. ")])],1),n("div",{staticClass:"inp code"},[n("van-field",{attrs:{name:"code",placeholder:"verify code"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),n("img",{staticClass:"codeimg",attrs:{src:"",id:"codeimg"},on:{click:t.showCode}})],1),n("div",{staticStyle:{margin:"16px 0 0"}},[n("van-button",{attrs:{round:"",disabled:t.disabled,block:"",type:"info","native-type":"submit"}},[t._v(" Register ")])],1)]),n("div",{staticClass:"reg-node"},[n("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)],1)])],1)},s=[],r=(n("b0c0"),n("ade3")),o=(n("66b9"),n("b650")),l=(n("be7f"),n("565f")),c=(n("38d5"),n("772a")),d=(n("5246"),n("6b41")),u=n("ef36"),f=(n("4328"),{name:"Login",components:(i={},Object(r["a"])(i,d["a"].name,d["a"]),Object(r["a"])(i,c["a"].name,c["a"]),Object(r["a"])(i,l["a"].name,l["a"]),Object(r["a"])(i,o["a"].name,o["a"]),i),data:function(){return{email:"",password:"",password1:"",code:"",disabled:!1}},mounted:function(){this.showCode()},methods:{onClickLeft:function(){this.$router.go(-1)},register:function(t){var e=this,n=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;if(""==t.Email)return this.$toast.fail("Enter email"),!1;if(!n.test(t.Email))return this.$toast.fail("E-mail format is incorrect"),!1;if(""==t.password)return this.$toast.fail("Enter password"),!1;if(""==t.password1)return this.$toast.fail("Please enter password again."),!1;if(t.password!=t.password1)return this.$toast.fail("The password is not consistent with the confirmation password."),!1;var i,a,s,r=/^(?=.*?[a-zA-Z])(?=.*?[0-9])[a-zA-Z0-9]{6,16}$/;if(!r.test(t.password))return alert("The password format does not meet the requirements."),!1;this.disabled=!0,this.$api.verify.CreateRSAKey().then((function(n){if(0==n.rescode){i=n.strPublicKeyExponent,a=n.strPublicKeyModulus,s=Object(u["a"])(t.password,i,a);var r={Email:t.Email,password1:s,password2:s,Yzm:t.code};e.$api.user.register(r).then((function(t){"0"==t.fsstate?(e.$toast.success("Resgister Success"),e.$store.commit("user/SET_TOKEN",!0),window.sessionStorage.setItem("token",1),e.$router.go(-1)):e.$toast.fail(t.fsmes)})).catch((function(t){e.$toast.fail("Register Fail")}))}else e.$toast.fail("Failed to create encrypted data. Please try again！")})).catch((function(t){e.$toast.fail("Failed to create encrypted data. Please try again！"),e.disabled=!1}))},showCode:function(){var t="";t="",document.getElementById("codeimg").src=t+"/UserControl/Validata.aspx?ValiType=valiregister&"+Math.random()}}}),m=f,h=(n("b6f4"),n("2877")),p=Object(h["a"])(m,a,s,!1,null,"dfcdf6aa",null);e["default"]=p.exports},e469:function(t,e,n){}}]);