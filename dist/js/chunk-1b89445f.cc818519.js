(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b89445f"],{"48f4":function(t,e,s){"use strict";function n(t){return"NavigationDuplicated"===t.name||t.message&&-1!==t.message.indexOf("redundant navigation")}function a(t,e){var s=e.to,a=e.url,i=e.replace;if(s&&t){var d=t[i?"replace":"push"](s);d&&d.catch&&d.catch((function(t){if(t&&!n(t))throw t}))}else a&&(i?location.replace(a):location.href=a)}function i(t){a(t.parent&&t.parent.$router,t.props)}s.d(e,"b",(function(){return a})),s.d(e,"a",(function(){return i})),s.d(e,"c",(function(){return d}));var d={url:String,replace:Boolean,to:[String,Object]}},"4b97":function(t,e,s){},"66b9":function(t,e,s){"use strict";s("68ef"),s("9d70"),s("3743"),s("e3b3"),s("bc1b")},b650:function(t,e,s){"use strict";var n=s("c31d"),a=s("2638"),i=s.n(a),d=s("d282"),o=s("ba31"),r=s("b1d2"),c=s("48f4"),l=s("ad06"),u=s("543e"),f=Object(d["a"])("button"),p=f[0],h=f[1];function b(t,e,s,n){var a,d=e.tag,f=e.icon,p=e.type,b=e.color,g=e.plain,v=e.disabled,m=e.loading,y=e.hairline,S=e.loadingText,D=e.iconPosition,k={};function $(t){m||v||(Object(o["a"])(n,"click",t),Object(c["a"])(n))}function I(t){Object(o["a"])(n,"touchstart",t)}b&&(k.color=g?b:r["g"],g||(k.background=b),-1!==b.indexOf("gradient")?k.border=0:k.borderColor=b);var O=[h([p,e.size,{plain:g,loading:m,disabled:v,hairline:y,block:e.block,round:e.round,square:e.square}]),(a={},a[r["c"]]=y,a)];function _(){return m?s.loading?s.loading():t(u["a"],{class:h("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}}):f?t(l["a"],{attrs:{name:f,classPrefix:e.iconPrefix},class:h("icon")}):void 0}function j(){var n,a=[];return"left"===D&&a.push(_()),n=m?S:s.default?s.default():e.text,n&&a.push(t("span",{class:h("text")},[n])),"right"===D&&a.push(_()),a}return t(d,i()([{style:k,class:O,attrs:{type:e.nativeType,disabled:v},on:{click:$,touchstart:I}},Object(o["b"])(n)]),[t("div",{class:h("content")},[j()])])}b.props=Object(n["a"])({},c["c"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"},iconPosition:{type:String,default:"left"}}),e["a"]=p(b)},bc1b:function(t,e,s){},c854:function(t,e,s){},ca35:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"memberBJ"},[s("Header",{attrs:{title:"My Address"}}),s("div",{staticClass:"address-list"},t._l(t.list,(function(e){return s("addressItem",{key:e.id,attrs:{addressInfo:e,isPay:t.isPay}})})),1),s("div",{staticClass:"add-btn"},[s("van-button",{attrs:{type:"danger",round:"",block:""},on:{click:t.onAdd}},[t._v("Add Address")])],1)],1)},a=[],i=(s("b0c0"),s("5530")),d=s("ade3"),o=(s("66b9"),s("b650")),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"address-item"},[s("div",{staticClass:"address-top"},[s("div",{staticClass:"address-info",on:{click:function(e){return t.onSel(t.addressInfo.id)}}},[s("div",{staticClass:"address-name"},[t._v(" "+t._s(t.addressInfo.name)+t._s(t.addressInfo.tel)+" ")]),s("div",{staticClass:"address-detail"},[t._v(" "+t._s(t.addressInfo.address)+" ")])]),s("div",{staticClass:"address-deit"},[s("van-icon",{attrs:{name:"edit",size:"24"},on:{click:function(e){return t.onEdit(t.addressInfo.id)}}})],1)]),s("div",{staticClass:"address-bottom"},[s("div",{staticClass:"address-default",on:{click:function(e){return t.onDefault(t.addressInfo.id)}}},[s("van-icon",{class:t.addressInfo.isDefault?"check":"",attrs:{name:t.addressInfo.isDefault?"checked":"circle",size:"20"}}),s("p",[t._v("Sel Default")])],1),s("div",{staticClass:"address-del"},[s("van-icon",{attrs:{name:"delete",size:"20"},on:{click:function(e){return t.onDel(t.addressInfo.id)}}})],1)])])])},c=[],l={name:"addressItem",props:{addressInfo:{type:Object,default:new Object},isPay:{type:Boolean,default:!1}},created:function(){},methods:{onEdit:function(t){this.$router.push({path:"/addaddress",query:{sid:t}})},onDel:function(t){var e=this;""!=t?this.$api.user.DelAddress({rid:t}).then((function(s){s>0?(e.$toast("Delete successfully."),e.$store.commit("address/DEL_ADDRESS",t)):e.$toast("Deletion failed. Please try again")})).catch((function(t){})):this.$toast("Select the address to delete")},onDefault:function(t){var e=this;this.$api.user.selDefaultAddress({rid:t}).then((function(s){s>0?(e.$toast("Set success."),e.$store.commit("address/SET_DEFAULT",t)):e.$toast("Set failed. Please try again.")}))},onSel:function(t){this.isPay&&(this.$store.commit("pay/SET_ADDRESS_ID",t),this.$router.go(-1))}},watch:{addressInfo:function(t){this.list=t}}},u=l,f=(s("f196"),s("2877")),p=Object(f["a"])(u,r,c,!1,null,"d72b023c",null),h=p.exports,b=s("2f62"),g={name:"Address",components:Object(d["a"])({addressItem:h},o["a"].name,o["a"]),data:function(){return{list:[],isPay:!1}},beforeRouteEnter:function(t,e,s){"/payment"==e.path?s((function(t){t.isPay=!0})):s()},computed:Object(i["a"])({},Object(b["c"])(["addressList"])),created:function(){this.getAddress()},methods:{getAddress:function(){0==this.addressList.length?this.$store.dispatch("address/getAddressList"):this.list=this.addressList},onSel:function(t){},onAdd:function(){this.$router.push({path:"/addaddress"})},onEdit:function(t){this.$router.push({path:"/addaddress",query:{sid:t.id}})}},watch:{addressList:function(t){this.list=t}}},v=g,m=(s("ff35"),Object(f["a"])(v,n,a,!1,null,"1f66c7b3",null));e["default"]=m.exports},f196:function(t,e,s){"use strict";s("c854")},ff35:function(t,e,s){"use strict";s("4b97")}}]);