(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-771a9475"],{"0122":function(t,e,s){},"48f4":function(t,e,s){"use strict";function a(t){return"NavigationDuplicated"===t.name||t.message&&-1!==t.message.indexOf("redundant navigation")}function n(t,e){var s=e.to,n=e.url,i=e.replace;if(s&&t){var d=t[i?"replace":"push"](s);d&&d.catch&&d.catch((function(t){if(t&&!a(t))throw t}))}else n&&(i?location.replace(n):location.href=n)}function i(t){n(t.parent&&t.parent.$router,t.props)}s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return i})),s.d(e,"c",(function(){return d}));var d={url:String,replace:Boolean,to:[String,Object]}},"66b9":function(t,e,s){"use strict";s("68ef"),s("9d70"),s("3743"),s("e3b3"),s("bc1b")},7216:function(t,e,s){},"9b1f":function(t,e,s){"use strict";s("0122")},b650:function(t,e,s){"use strict";var a=s("c31d"),n=s("2638"),i=s.n(n),d=s("d282"),r=s("ba31"),o=s("b1d2"),c=s("48f4"),l=s("ad06"),u=s("543e"),f=Object(d["a"])("button"),p=f[0],b=f[1];function h(t,e,s,a){var n,d=e.tag,f=e.icon,p=e.type,h=e.color,g=e.plain,v=e.disabled,m=e.loading,S=e.hairline,y=e.loadingText,I=e.iconPosition,$={};function k(t){m||v||(Object(r["a"])(a,"click",t),Object(c["a"])(a))}function D(t){Object(r["a"])(a,"touchstart",t)}h&&($.color=g?h:o["g"],g||($.background=h),-1!==h.indexOf("gradient")?$.border=0:$.borderColor=h);var O=[b([p,e.size,{plain:g,loading:m,disabled:v,hairline:S,block:e.block,round:e.round,square:e.square}]),(n={},n[o["c"]]=S,n)];function _(){return m?s.loading?s.loading():t(u["a"],{class:b("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}}):f?t(l["a"],{attrs:{name:f,classPrefix:e.iconPrefix},class:b("icon")}):void 0}function j(){var a,n=[];return"left"===I&&n.push(_()),a=m?y:s.default?s.default():e.text,a&&n.push(t("span",{class:b("text")},[a])),"right"===I&&n.push(_()),n}return t(d,i()([{style:$,class:O,attrs:{type:e.nativeType,disabled:v},on:{click:k,touchstart:D}},Object(r["b"])(a)]),[t("div",{class:b("content")},[j()])])}h.props=Object(a["a"])({},c["c"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"},iconPosition:{type:String,default:"left"}}),e["a"]=p(h)},bc1b:function(t,e,s){},ca35:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"memberBJ"},[s("Header",{attrs:{title:"My Address"}}),s("div",{staticClass:"address-list"},t._l(t.list,(function(t){return s("addressItem",{key:t.id,attrs:{addressInfo:t}})})),1),s("div",{staticClass:"add-btn"},[s("van-button",{attrs:{type:"danger",round:"",block:""},on:{click:t.onAdd}},[t._v("Add Address")])],1)],1)},n=[],i=(s("b0c0"),s("5530")),d=s("ade3"),r=(s("66b9"),s("b650")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"address-item"},[s("div",{staticClass:"address-top"},[s("div",{staticClass:"address-info",on:{click:function(e){return t.onSel(t.addressInfo.id)}}},[s("div",{staticClass:"address-name"},[t._v(" "+t._s(t.addressInfo.name)+t._s(t.addressInfo.tel)+" ")]),s("div",{staticClass:"address-detail"},[t._v(" "+t._s(t.addressInfo.address)+" ")])]),s("div",{staticClass:"address-deit"},[s("van-icon",{attrs:{name:"edit",size:"24"},on:{click:function(e){return t.onEdit(t.addressInfo.id)}}})],1)]),s("div",{staticClass:"address-bottom"},[s("div",{staticClass:"address-default",on:{click:function(e){return t.onDefault(t.addressInfo.id)}}},[s("van-icon",{class:t.addressInfo.isDefault?"check":"",attrs:{name:t.addressInfo.isDefault?"checked":"circle",size:"20"}}),s("p",[t._v("Sel Default")])],1),s("div",{staticClass:"address-del"},[s("van-icon",{attrs:{name:"delete",size:"20"},on:{click:function(e){return t.onDel(t.addressInfo.id)}}})],1)])])])},c=[],l=s("2f62"),u={name:"addressItem",props:{addressInfo:{type:Object,default:new Object}},computed:Object(i["a"])({},Object(l["c"])(["addressIsPay"])),created:function(){},methods:{onEdit:function(t){this.$router.push({path:"/addaddress",query:{sid:t}})},onDel:function(t){var e=this;""!=t?this.$api.user.DelAddress({rid:t}).then((function(s){s>0?(e.$toast("Delete successfully."),e.$store.commit("address/DEL_ADDRESS",t)):e.$toast("Deletion failed. Please try again")})).catch((function(t){})):this.$toast("Select the address to delete")},onDefault:function(t){var e=this;this.$api.user.selDefaultAddress({rid:t}).then((function(s){s>0?(e.$toast("Set success."),e.$store.commit("address/SET_DEFAULT",t)):e.$toast("Set failed. Please try again.")}))},onSel:function(t){this.addressIsPay&&(this.$store.commit("pay/SET_ADDRESS_ID",t),this.$router.back())}},watch:{addressInfo:function(t){this.list=t}}},f=u,p=(s("9b1f"),s("2877")),b=Object(p["a"])(f,o,c,!1,null,"0a5a5b3a",null),h=b.exports,g={name:"Address",components:Object(d["a"])({addressItem:h},r["a"].name,r["a"]),data:function(){return{list:[],isPay:!1}},beforeRouteEnter:function(t,e,s){"/payment"==e.path?s((function(t){t.isPay=!0,t.$store.commit("address/SET_ISPAY",!0)})):s()},beforeRouteLeave:function(t,e,s){"/addaddress"!=t.path&&this.$store.commit("address/SET_ISPAY",!1),s()},computed:Object(i["a"])({},Object(l["c"])(["addressList","addressIsPay"])),created:function(){this.getAddress()},methods:{getAddress:function(){0==this.addressList.length?this.$store.dispatch("address/getAddressList"):this.list=this.addressList},onAdd:function(){this.$router.push({path:"/addaddress"})},onEdit:function(t){this.$router.push({path:"/addaddress",query:{sid:t.id}})}},watch:{addressList:function(t){this.list=t}}},v=g,m=(s("fb32"),Object(p["a"])(v,a,n,!1,null,"a0dc23e4",null));e["default"]=m.exports},fb32:function(t,e,s){"use strict";s("7216")}}]);